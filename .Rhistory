# plot
principal(saq, rotate = "varimax") %>%
fa.diagram(sort = TRUE)
# plot
principal(saq, rotate = "varimax") %>%
fa.diagram(sort = TRUE)
blogdown:::serve_site()
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
# install.packages("tidyverse")
# install.packages("knitr")
# install.packages("haven")
# install.packages("MASS")
# install.packages("psych")
library(tidyverse)
library(knitr)
library(haven)
library(MASS)
library(psych)
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::insert_image_addin()
blogdown:::insert_image_addin()
blogdown:::insert_image_addin()
blogdown:::insert_image_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
help(mean)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
# Chunk 1
# install.packages("tidyverse")
# install.packages("knitr")
# install.packages("haven")
# install.packages("MASS")
# install.packages("psych")
library(tidyverse)
library(knitr)
library(haven)
library(MASS)
library(psych)
# Chunk 2
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
# Chunk 3
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance)) +
geom_tile() +
scale_fill_gradient(low = "blue", high = "red")
# Chunk 4
isoMDS.fit1 <- isoMDS(UScitiesD, k = 2, maxit = 50)
# Chunk 5
isoMDS.data <- as_tibble(isoMDS.fit1$points) %>%
mutate(city = rownames(isoMDS.fit1$points))
# Chunk 6
isoMDS.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
geom_point() +
geom_label(nudge_y = 100)
xfun::embed_file(path = "data/SAQ.sav")
xfun::embed_file(path = "data/SAQ.sav")
file.choose()
xfun::embed_file(path = "/Users/nicholasmichalak/nickmichalak/static/post/2019-02-14-using-principal-components-or-common-factor-analysis-in-social-psychology/2019-02-14-using-principal-components-or-common-factor-analysis-in-social-psychology_files/data/SAQ.sav")
xfun::embed_file(path = "/static/post/2019-02-14-using-principal-components-or-common-factor-analysis-in-social-psychology/2019-02-14-using-principal-components-or-common-factor-analysis-in-social-psychology_files/data/SAQ.sav")
blogdown:::serve_site()
# Chunk 1
# install.packages("tidyverse")
# install.packages("knitr")
# install.packages("haven")
# install.packages("MASS")
# install.packages("psych")
library(tidyverse)
library(knitr)
library(haven)
library(MASS)
library(psych)
# Chunk 2
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance)) +
geom_tile() +
scale_fill_gradient(low = "blue", high = "red") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient(low = "blue", high = "red") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
coord_flip() +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
coord_flip() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city2, y = city1, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
scale_x_reverse() +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
scale_y_reverse() +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_y_reverse() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_y_reverse() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
?scale_y_reverse
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_y_reverse() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
as.data.frame() %>%
rownames_to_column()
# Chunk 1
# install.packages("tidyverse")
# install.packages("knitr")
# install.packages("haven")
# install.packages("MASS")
# install.packages("psych")
library(tidyverse)
library(knitr)
library(haven)
library(MASS)
library(psych)
# Chunk 2
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
# Chunk 3
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(city1 = rowname) %>%
gather(key = city2, value = distance, -city1) %>%
ggplot(mapping = aes(x = city1, y = city2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
# Chunk 4
isoMDS.fit1 <- isoMDS(UScitiesD, k = 2, maxit = 50)
# Chunk 5
isoMDS.data <- as_tibble(isoMDS.fit1$points) %>%
mutate(city = rownames(isoMDS.fit1$points))
# Chunk 6
isoMDS.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
geom_point() +
geom_label(nudge_y = 100)
# Chunk 7
saq <- read_spss(file = "data/SAQ.sav")
saq <- read_spss(file = "~/nickmichalak/content/post/2019-02-14-using-principal-components-or-common-factor-analysis-in-social-psychology/data/SAQ.sav")
saq %>%
cor(use = "pairwise.complete.obs") %>%
as.data.frame() %>%
rownames_to_column()
saq %>%
cor(use = "pairwise.complete.obs") %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = distance, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = distance)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = r)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
round(2) %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = r)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
round(2) %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = r)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
scale_y_reverse() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
saq %>%
cor(use = "pairwise.complete.obs") %>%
round(2) %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = r)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
scale_x_discrete(expand = c(0, 0)) +
scale_y_discrete(expand = c(0, 0)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
UScitiesD %>%
as.matrix() %>%
as.data.frame() %>%
kable()
isoMDS.fit1
cmdscale(UScitiesD, k = 2, eig = TRUE)
cmdscale.fit1 <- cmdscale(UScitiesD, k = 2, eig = TRUE)
cmdscale.data <- as_tibble(cmdscale.fit1$points) %>%
mutate(city = rownames(cmdscale.fit1$points))
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
geom_point() +
geom_label(nudge_y = 100)
plot(cmdscale.fit1$eig)
?cmdscale
tibble(index = 1:lenght(cmdscale.fit1$eig),
eigenvalue = cmdscale.fit1$eig) %>%
ggplot(mapping = aes(x = index, y = eigenvalue)) +
geom_line() +
geom_point()
tibble(index = 1:length(cmdscale.fit1$eig),
eigenvalue = cmdscale.fit1$eig) %>%
ggplot(mapping = aes(x = index, y = eigenvalue)) +
geom_line() +
geom_point()
tibble(index = 1:length(cmdscale.fit1$eig),
eigenvalue = cmdscale.fit1$eig) %>%
ggplot(mapping = aes(x = index, y = eigenvalue)) +
geom_line() +
geom_point() +
scale_y_continuous(breaks = pretty(cmdscale.fit1$eig))
pretty(cmdscale.fit1$eig)
tibble(index = 1:length(cmdscale.fit1$eig),
eigenvalue = cmdscale.fit1$eig) %>%
ggplot(mapping = aes(x = index, y = eigenvalue)) +
geom_line() +
geom_point() +
scale_y_continuous(labels = scales::comma)
cmdscale.data <- as_tibble(cmdscale.fit1$points) %>%
mutate(city = rownames(cmdscale.fit1$points))
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
geom_point() +
geom_label(nudge_y = 100)
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
coord_map() +
geom_point() +
geom_label(nudge_y = 100)
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
coord_quickmap() +
geom_point() +
geom_label(nudge_y = 100)
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
coord_quickmap()
state.center
state.center %>%
as_tibble()
state.center %>%
as_tibble() %>%
ggplot(mapping = aes(x = x, y = y))
state.center %>%
as_tibble() %>%
ggplot(mapping = aes(x = x, y = y)) +
geom_map()
state.center %>%
as_tibble() %>%
ggplot(mapping = aes(x = x, y = y)) +
coord_quickmap()
map_data("state")
# install.packages("tidyverse")
# install.packages("knitr")
# install.packages("haven")
install.packages("maps")
library(tidyverse)
library(knitr)
library(haven)
library(maps)
library(psych)
map_data("maps")
library(tidyverse)
library(knitr)
library(haven)
library(maps)
library(psych)
map_data("maps")
map_data("maps")
maps::map.cities()
map.cities()
mapsMapEnv
map_data("states")
map_data("state")
map_data("state") %>%
ggplot(mapping = aes(x = long, y = lat, group = group))
map_data("state") %>%
ggplot(mapping = aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", colour = "black")
map_data("state") %>%
ggplot(mapping = aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_quickmap()
map_data("state") %>%
ggplot(mapping = aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_map()
map_data("state") %>%
ggplot(mapping = aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", colour = "black") +
coord_quickmap()
cmdscale.data %>%
ggplot(mapping = aes(x = V2, y = V1, label = city)) +
geom_point() +
geom_label(nudge_y = 100)
blogdown:::serve_site()
saq %>%
cor(use = "pairwise.complete.obs") %>%
round(2) %>%
as.data.frame() %>%
rownames_to_column() %>%
rename(item1 = rowname) %>%
gather(key = item2, value = r, -item1) %>%
ggplot(mapping = aes(x = item1, y = item2, fill = r, label = r)) +
geom_tile() +
geom_text() +
scale_fill_gradient2() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
c(7.5, 10.5) * 2
c(7.5, 10.5) * 1.5
blogdown:::serve_site()
